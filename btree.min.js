(function(e){var t=0,n=Base.extend({constructor:function(e){this.title=e.title||"btree"+ ++t,this._rootNode=e.tree,this._object=e.object},setObject:function(e){this._object=e},step:function(){this._started&&console.log('the BehaviorTree "'+this.title+'" did call step but one Task did not finish on last call of step.'),this._started=!0;var e=n.getNode(this._rootNode);this._actualNode=e,e.canRun(this._object)&&(e.setControl(this),e.start(this._object),e.run(this._object))},running:function(e){this._started=!1},success:function(){this._actualNode.end(this._object),this._started=!1},fail:function(){this._actualNode.end(this._object),this._started=!1}});n=Object.extend(n,{_registeredNodes:{},register:function(e,t){this._registeredNodes[e]=t},getNode:function(e){var t=e instanceof n.Node?e:this._registeredNodes[e];return t||console.log('The node "'+e+'" could not be looked up. Maybe it was never registered?'),t}}),e.BehaviorTree=n})(window),function(e){var t=e.Node.extend({});e.Task=t}(BehaviorTree);